# PerfumeScraper

### Описание проекта

**PerfumeScraper** — это инструмент для сбора данных о парфюмерии с сайта [Gold Apple](https://goldapple.ru/parfjumerija). 
Он извлекает информацию о товарах и сохраняет её в CSV-файл, что помогает анализировать популярные товары и принимать решения о закупках.

---

### Функциональность

- Сбор данных о товарах из раздела "Парфюмерия".
- Сохранение информации в CSV-файл.
- Валидация собранных данных.
- Графический интерфейс для удобного взаимодействия.

---

### Состав данных

В итоговом CSV-файле содержатся следующие данные:

1. Ссылка на продукт
2. Наименование
3. Цена
4. Рейтинг пользователей
5. Описание продукта
6. Инструкция по применению 
7. Страна-производитель

---

### Хранение данных

Все CSV-файлы хранятся в директории `scraped_data/`. Имена файлов генерируются автоматически следующим образом:
```sh
scraped-product-details_YYYY-MM-DD_HH-MM-SS.csv
```


---

### Структура проекта

```sh
project/
│── src/
│   ├── __init__.py
│   ├── base.py           # Базовые классы для скрапинга, работы с файлами и валидации
│   ├── config.py         # Конфигурационные параметры проекта
│   ├── data_manager.py   # Управление данными и их сохранение в CSV
│   ├── gui.py            # Графический интерфейс пользователя
│   ├── scraper.py        # Основной класс для сбора данных
│   ├── utils.py          # Вспомогательные утилиты (работа с файлами, HTTP)
│   └── validators.py     # Валидация данных
│── tests/                # Тесты проекта
│── logs/                 # Логи работы программы
│── scraped_data/         # Собранные данные в формате CSV 
│── README.md             # Описание проекта
└── requirements.txt      # Зависимости проекта
```

---

### Установка

###### Требования

- Python 3.11+
- Установленные зависимости (см. [requirements.txt](requirements.txt))

###### Установка зависимостей
 
```sh
pip install -r requirements.txt
```

---

### Запуск

```sh
python main.py
```

---

### Тестирование

###### Генерация отчёта о покрытии в HTML-формате

```sh
pytest --cov=src --cov-report=html
```

###### Покрытие кода тестами

| Файл                  | Строк кода | Пропущено  | Исключено   | Покрытие  |
|-----------------------|------------|------------|-------------|-----------|
| `src/__init__.py`     | 0          | 0          | 0           | 100%      |
| `src/base.py`         | 41         | 9          | 0           | 78%       |
| `src/config.py`       | 4          | 0          | 0           | 100%      |
| `src/data_manager.py` | 26         | 0          | 0           | 100%      |
| `src/gui.py`          | 109        | 12         | 0           | 89%       |
| `src/scraper.py`      | 168        | 73         | 0           | 57%       |
| `src/utils.py`        | 45         | 0          | 0           | 100%      |
| `src/validators.py`   | 15         | 0          | 0           | 100%      |
| **Итого**             | **408**    | **94**     | **0**       | **77%**   |
